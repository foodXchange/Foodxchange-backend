# Production Environment Configuration
# This file shows optimized settings for production MongoDB deployment

# Application
NODE_ENV=production
PORT=5000
HOST=0.0.0.0
API_VERSION=v1
APP_NAME=FoodXchange Backend

# Database Configuration - Production MongoDB
MONGODB_URI=mongodb+srv://username:password@cluster0.mongodb.net/foodxchange_prod?retryWrites=true&w=majority
MONGODB_OPTIONS_USE_NEW_URL_PARSER=true
MONGODB_OPTIONS_USE_UNIFIED_TOPOLOGY=true

# MongoDB Connection Pool Settings - Production Optimized
DB_MAX_POOL_SIZE=50
DB_MIN_POOL_SIZE=10
DB_MAX_IDLE_TIME=30000
DB_WAIT_QUEUE_TIMEOUT=10000

# MongoDB Connection Settings - Production
DB_SERVER_SELECTION_TIMEOUT=10000
DB_SOCKET_TIMEOUT=60000
DB_CONNECT_TIMEOUT=15000
DB_HEARTBEAT_FREQUENCY=10000
DB_HEARTBEAT_THRESHOLD=60000

# MongoDB Write/Read Settings - Production
DB_WRITE_CONCERN=majority
DB_WRITE_TIMEOUT=5000
DB_JOURNAL=true
DB_READ_PREFERENCE=primaryPreferred
DB_READ_CONCERN_LEVEL=majority
DB_MAX_STALENESS_SECONDS=90

# MongoDB Retry Settings - Production
DB_RETRY_WRITES=true
DB_RETRY_READS=true
DB_MAX_RETRIES=3
DB_RETRY_DELAY=2000
DB_BACKOFF_MULTIPLIER=2.0
DB_MAX_RETRY_DELAY=15000

# MongoDB Monitoring Settings - Production
DB_MONITOR_COMMANDS=false
DB_MONITORING_INTERVAL=120000
DB_CONNECTION_MONITOR_INTERVAL=60000
DB_HEALTH_CHECK_INTERVAL=300000
DB_SLOW_QUERY_THRESHOLD=200
DB_ENABLE_DIAGNOSTICS=false
DB_ENABLE_PROFILING=false
DB_PROFILE_LEVEL=0

# MongoDB Compression - Production
DB_COMPRESSORS=snappy,zlib
DB_ZLIB_COMPRESSION_LEVEL=6

# MongoDB TLS/SSL - Production
DB_TLS=true
DB_TLS_INSECURE=false
DB_TLS_ALLOW_INVALID_CERTS=false
DB_TLS_ALLOW_INVALID_HOSTNAMES=false

# MongoDB Authentication - Production
DB_AUTH_SOURCE=admin

# MongoDB Advanced Settings - Production
DB_DIRECT_CONNECTION=false
DB_SERVER_API_VERSION=1

# MongoDB Shutdown Settings - Production
DB_SHUTDOWN_TIMEOUT=60000

# Redis Configuration - Production
REDIS_URL=redis://redis-prod-cluster:6379
REDIS_HOST=redis-prod-cluster
REDIS_PORT=6379
REDIS_DB=0
REDIS_PASSWORD=your-redis-password

# PostgreSQL (for analytics) - Production
POSTGRES_HOST=postgres-prod-server
POSTGRES_PORT=5432
POSTGRES_DB=foodxchange_analytics_prod
POSTGRES_USER=prod_user
POSTGRES_PASSWORD=secure-postgres-password
POSTGRES_SSL=true

# Elasticsearch - Production
ELASTICSEARCH_NODE=https://elasticsearch-prod-cluster:9200
ELASTICSEARCH_INDEX_PREFIX=foodxchange_prod

# Security Keys - Production (MUST BE CHANGED)
JWT_SECRET=your-super-secure-jwt-secret-minimum-64-characters-long-for-production
JWT_REFRESH_SECRET=your-super-secure-refresh-secret-minimum-64-characters-long
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d
ENCRYPTION_KEY=your-32-character-encryption-key

# API Keys - Production
GOOGLE_MAPS_API_KEY=your-production-google-maps-api-key
OPENAI_API_KEY=your-production-openai-api-key

# Email Configuration - Production
EMAIL_HOST=smtp.your-email-provider.com
EMAIL_PORT=587
EMAIL_USER=noreply@foodxchange.com
EMAIL_PASS=your-email-password
EMAIL_FROM=noreply@foodxchange.com
EMAIL_SECURE=true

# SMS Configuration - Production
SMS_PROVIDER=twilio
TWILIO_ACCOUNT_SID=your-production-twilio-sid
TWILIO_AUTH_TOKEN=your-production-twilio-token
TWILIO_PHONE_NUMBER=your-production-phone-number

# Payment Gateways - Production
STRIPE_SECRET_KEY=sk_live_your_stripe_live_key
STRIPE_PUBLISHABLE_KEY=pk_live_your_stripe_live_key
STRIPE_WEBHOOK_SECRET=whsec_live_your_webhook_secret

PAYPAL_MODE=live
PAYPAL_CLIENT_ID=your-paypal-live-client-id
PAYPAL_CLIENT_SECRET=your-paypal-live-secret

# AWS Configuration - Production
AWS_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_S3_BUCKET=foodxchange-prod
AWS_S3_ENDPOINT=

# Push Notifications - Production
VAPID_PUBLIC_KEY=your-production-vapid-public-key
VAPID_PRIVATE_KEY=your-production-vapid-private-key
VAPID_EMAIL=mailto:admin@foodxchange.com

FCM_SERVER_KEY=your-production-fcm-server-key
FCM_PROJECT_ID=your-production-fcm-project-id

APNS_KEY_ID=your-production-apns-key-id
APNS_TEAM_ID=your-production-apns-team-id
APNS_BUNDLE_ID=com.foodxchange.app
APNS_PRODUCTION=true

# File Storage - Production
STORAGE_TYPE=s3
STORAGE_LOCAL_PATH=./uploads
MAX_FILE_SIZE=52428800
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,application/pdf

# Session Configuration - Production
SESSION_SECRET=your-super-secure-session-secret-for-production
SESSION_TIMEOUT=3600000

# CORS Configuration - Production
CORS_ORIGIN=https://foodxchange.com,https://app.foodxchange.com
CORS_CREDENTIALS=true

# Rate Limiting - Production
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=true

# Logging - Production
LOG_LEVEL=info
LOG_FORMAT=json
LOG_DIR=./logs

# Monitoring - Production
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_TRACING=true
JAEGER_ENDPOINT=http://jaeger-collector:14268/api/traces

# Feature Flags - Production
ENABLE_BLOCKCHAIN=true
ENABLE_ML_PREDICTIONS=true
ENABLE_REALTIME_ANALYTICS=true
ENABLE_AB_TESTING=true
ENABLE_PUSH_NOTIFICATIONS=true

# Cache TTL (seconds) - Production
CACHE_TTL_DEFAULT=600
CACHE_TTL_USER=1800
CACHE_TTL_PRODUCT=3600
CACHE_TTL_ANALYTICS=7200

# Background Jobs - Production
ENABLE_BACKGROUND_JOBS=true
JOB_CLEANUP_INTERVAL=86400000
JOB_RETRY_ATTEMPTS=3

# Development Tools - Production (Disabled)
ENABLE_SWAGGER=false
ENABLE_GRAPHQL_PLAYGROUND=false
ENABLE_DEBUG_ROUTES=false

# External Services - Production
GEOCODING_API_URL=https://maps.googleapis.com/maps/api/geocode/json
WEATHER_API_URL=https://api.openweathermap.org/data/2.5/weather
EXCHANGE_RATE_API_URL=https://api.exchangerate-api.com/v4/latest/USD

# Kafka Configuration - Production
KAFKA_BROKERS=kafka-cluster:9092
KAFKA_CLIENT_ID=foodxchange-backend-prod
KAFKA_GROUP_ID=foodxchange-prod-group

# Webhook URLs - Production
WEBHOOK_SECRET=your-production-webhook-secret
WEBHOOK_TIMEOUT=30000

# AI/ML Configuration - Production
ML_MODEL_PATH=./models
ML_BATCH_SIZE=64
ML_UPDATE_FREQUENCY=daily

# Blockchain Configuration - Production
BLOCKCHAIN_NETWORK=mainnet
BLOCKCHAIN_RPC_URL=https://mainnet.infura.io/v3/your-project-id
BLOCKCHAIN_PRIVATE_KEY=your-production-private-key
BLOCKCHAIN_CONTRACT_ADDRESS=your-deployed-contract-address

# Third-party Integrations - Production
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/PRODUCTION/WEBHOOK
DISCORD_WEBHOOK_URL=https://discord.com/api/webhooks/YOUR/PRODUCTION/WEBHOOK
MICROSOFT_TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/PRODUCTION/WEBHOOK